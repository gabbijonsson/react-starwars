(this["webpackJsonpreact-starwars"]=this["webpackJsonpreact-starwars"]||[]).push([[0],{21:function(e,t,a){e.exports=a(39)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),i=(a(26),a(1)),l=(a(27),a(28),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"searchfield__input ".concat(e.visibilityStatus?"":"hidden"),placeholder:"Search...",onKeyUp:function(t){e.setSearchTerm(t.target.value)}}))}),s=a(10),u=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)(!1),u=Object(i.a)(l,2),m=u[0],f=u[1],d=Object(n.useState)(!1),v=Object(i.a)(d,2),b=v[0],p=v[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/",className:"navbar__link-everyone"},r.a.createElement("button",{onClick:function(){o(!0),f(!1),p(!1),e.setVisibilityStatus(!0)},className:"navbar__button ".concat(c?"selected":"")},"Everyone")),r.a.createElement(s.b,{to:"/favorites",className:"navbar__link-favorites"},r.a.createElement("button",{onClick:function(){o(!1),f(!0),p(!1),e.setVisibilityStatus(!1)},className:"navbar__button ".concat(m?"selected":"")},"Favorites")),r.a.createElement(s.b,{to:"/addfavorite",className:"navbar__link-addfavorite"},r.a.createElement("button",{onClick:function(){o(!1),f(!1),p(!0),e.setVisibilityStatus(!1)},className:"navbar__button ".concat(b?"selected":"")},"+")))},m=function(e){var t=Object(n.useState)(!0),a=Object(i.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"header__container"},r.a.createElement("h1",{className:"header__container-title"},"SW DB"),r.a.createElement(u,{setVisibilityStatus:o}),r.a.createElement(l,{visibilityStatus:c,setSearchTerm:e.setSearchTerm}))};a(34);function f(){var e=localStorage.getItem("favorites");return e?JSON.parse(e):null}var d={getPeople:function(e){fetch("https://swapi.dev/api/people/").then((function(e){return e.json()})).then((function(t){e(t.results)}),(function(e){console.log("error",e)}))},getFavorites:f,addFavorite:function(e){e.isFavorite=!0;var t=f();null==t&&(t=[]),t.push(e),localStorage.setItem("favorites",JSON.stringify(t))},removeFavorite:function(e){var t=f();if(null!=t){var a=t.findIndex((function(t){return t.name===e.name}));t.splice(a,1),localStorage.setItem("favorites",JSON.stringify(t))}}},v=function(e){var t=Object(n.useState)(e.person.isFavorite),a=Object(i.a)(t,2),c=a[0],o=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card__container"},r.a.createElement("p",{className:"card__name"},e.person.name),r.a.createElement("p",{className:"card__gender"},"Gender: ",e.person.gender),r.a.createElement("p",{className:"card__birthyear"},"Birthyear: ",e.person.birth_year),r.a.createElement("p",{className:"card__isusercreated"},"Created by:",e.person.isUserCreated?" Your imagination":" George Lucas"),r.a.createElement("button",{onClick:function(){c?(d.removeFavorite(e.person),e.onUnfavorite&&e.onUnfavorite()):d.addFavorite(e.person),e.shouldToggleFavoriteStatus&&o(!c)},className:"btn__fav"},c?"\u2665":"\u2661")))};var b={updateFavoriteStatus:function(e){var t=d.getFavorites();e.forEach((function(e){t&&(t.findIndex((function(t){return t.name===e.name}))>=0&&(e.isFavorite=!0))}))}};a(35);var p=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],o=a[1],l=function(e,t,a){return a.indexOf(e)===t};return Object(n.useEffect)((function(){d.getPeople((function(t){b.updateFavoriteStatus(t);var a=t.filter((function(t){return t.name.toLowerCase().includes(e.searchTerm.toLowerCase())})),n=t.filter((function(t){return t.gender.toLowerCase().includes(e.searchTerm.toLowerCase())})),r=t.filter((function(t){return t.birth_year.toLowerCase().includes(e.searchTerm.toLowerCase())}));t=a.concat(n,r).filter(l),o(t)}))}),[e.searchTerm]),r.a.createElement("div",{className:"infocard__container"},c.map((function(e){return r.a.createElement(v,{key:c.indexOf(e),person:e,shouldToggleFavoriteStatus:!0})})),";")};a(36);var E=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];function o(){var e=d.getFavorites();c(e)}return Object(n.useEffect)((function(){o()}),[]),a&&a.length>0?r.a.createElement("div",{className:"infocard__container"},a.map((function(e){return r.a.createElement(v,{key:a.indexOf(e),person:e,onUnfavorite:o})}))):r.a.createElement("p",{className:"favlist__nofav"},"Oh no! You have no favorites! Go back and add some!")},h=a(20);a(38);var _=function(){var e=Object(h.a)(),t=e.register,a=e.handleSubmit;return r.a.createElement("form",{onSubmit:a((function(e,t){console.log(e),e.isFavorite=!0,e.isUserCreated=!0,d.addFavorite(e),t.target.reset()}))},r.a.createElement("label",{htmlFor:"name",className:"labelname"},"NAME"),r.a.createElement("input",{className:"addfavorite__input inputname",name:"name",defaultValue:"",placeholder:"Enter first name...",ref:t({required:!0})}),r.a.createElement("label",{htmlFor:"gender",className:"labelgender"},"GENDER"),r.a.createElement("input",{className:"addfavorite__input inputgender",name:"gender",defaultValue:"",placeholder:"Enter gender...",ref:t}),r.a.createElement("label",{htmlFor:"birth_year",className:"labelbirthyear"},"BIRTH YEAR (BBY / ABY)"),r.a.createElement("input",{className:"addfavorite__input inputbirthyear",name:"birth_year",defaultValue:"",placeholder:"Enter birth year...",ref:t}),r.a.createElement("input",{type:"submit",className:"submitbutton"}))},g=a(2);var S=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(m,{setSearchTerm:c}),r.a.createElement(g.c,null,r.a.createElement(g.a,{path:"/favorites"},r.a.createElement(E,null)),r.a.createElement(g.a,{path:"/addfavorite"},r.a.createElement(_,null)),r.a.createElement(g.a,{path:"/"},r.a.createElement(p,{searchTerm:a})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.fbaa986c.chunk.js.map